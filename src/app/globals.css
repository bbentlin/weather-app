@import "tailwindcss";

/* Motion helpers */
@keyframes spinSlow { to { transform: rotate(360deg) } }
@keyframes bob { 0% { transform: translateY(0) } 100% { transform: translateY(-6%) } }
@keyframes floatX { 0% { transform: translateX(0) } 100% { transform: translateX(4%) } }
@keyframes pulseSoft { 0%,100% { transform: scale(1); opacity: 1 } 50% { transform: scale(0.98); opacity: .9 } }

.icon-spin-slow { animation: spinSlow 12s linear infinite; transform-origin: 50% 50%; display: inline-block; }
.icon-bob { animation: bob 2.6s ease-in-out infinite alternate; display: inline-block; }
.icon-float { animation: floatX 5s ease-in-out infinite alternate; display: inline-block; }
.icon-pulse { animation: pulseSoft 2.4s ease-in-out infinite; display: inline-block; }
.icon-drip { animation: pulseSoft 2s ease-in-out infinite; display: inline-block; }
.icon-snow { animation: pulseSoft 2.8s ease-in-out infinite; display: inline-block; }

@media (prefers-reduced-motion: reduce) {
  .icon-spin-slow, .icon-bob, .icon-float, .icon-pulse, .icon-drip, .icon-snow { animation: none !important; }
}

/* Fade up entrance */
@keyframes fadeUp { from { opacity: 0; transform: translateY(6px) } to { opacity: 1; transform: translateY(0) } }
.animate-fade-up { animation: fadeUp .5s ease-out both; }

/* Skeleton shimmer */
@keyframes shimmer { 0% { transform: translateX(-100%) } 100% { transform: translateX(100%) } }
.skeleton {
  position: relative;
  overflow: hidden;
  background: color-mix(in oklab, CanvasText 12%, transparent);
  border-radius: 0.75rem;
}
.dark .skeleton { background: color-mix(in oklab, Canvas 18%, transparent); }
.skeleton::after {
  content: "";
  position: absolute;
  inset: 0;
  transform: translateX(-100%);
  background: linear-gradient(90deg, transparent, rgba(255,255,255,.35), transparent);
  animation: shimmer 1.2s ease-in-out infinite;
  opacity: .6;
}

/* Smooth cross-fade for Leaflet tile layers */
.leaflet-layer, .leaflet-tile { transition: opacity 240ms ease-in-out; }

/* System dark preference */
:root { color-scheme: light dark; }

/* Selection color */
::selection {
  background-color: color-mix(in oklab, #38bdf8 30%, transparent);
}
@media (prefers-color-scheme: dark) {
  ::selection {
    background-color: color-mix(in oklab, #7dd3fc 25%, transparent);
  }
}